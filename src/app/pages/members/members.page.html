<app-header-menu 
  [activeMenu]="activeMenu"
  (menuChange)="onMenuChange($event)"
  (branchChange)="onBranchChange($event)">
  <ion-content [fullscreen]="true" class="ion-padding">
  <!-- Members List -->
  <div class="users-list-container">
    <div class="members-toolbar">
      <div class="members-toolbar-left">
        <h2>All Members</h2>
      </div>

      <div class="members-actions">
        <ion-button (click)="openAddMemberModal()">
          <ion-icon name="person-add-outline" slot="start"></ion-icon>
          Add Member
        </ion-button>
      </div>
    </div>

    <mat-card class="filter-card">
      <div class="filter-row">
        <ion-item *ngIf="showSearch" class="members-search-item filter-field--search">
          <ion-label position="stacked">Search</ion-label>
          <ion-input
            placeholder="Search members"
            type="text"
            (ionInput)="onFilterChange($event)">
          </ion-input>
        </ion-item>
      </div>
    </mat-card>

    <div *ngIf="rowData.length === 0 && !isLoading" class="empty-state">
      <ion-icon name="people-outline" size="large"></ion-icon>
      <p>No members found</p>
      <p style="font-size: 12px; margin-top: 8px; color: var(--ion-color-medium);">
        Click "Add Member" to add a new member
      </p>
    </div>

    <div *ngIf="rowData.length > 0" class="members-grid">
      <ag-grid-angular
        class="ag-theme-alpine"
        style="width: 100%; height: 60vh;"
        [rowData]="rowData"
        [columnDefs]="columnDefs"
        [defaultColDef]="defaultColDef"
        [gridOptions]="gridOptions"
        [pagination]="true"
        [paginationPageSize]="paginationPageSize"
        (gridReady)="onGridReady($event)"
        >
      </ag-grid-angular>
    </div>
  </div>
  </ion-content>
</app-header-menu>
