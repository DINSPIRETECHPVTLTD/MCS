<ion-header [translucent]="false">
    <ion-toolbar>
        <ion-title>{{ isEditing ? 'Edit Center' : 'Add New Center' }}</ion-title>
        <ion-buttons slot="end">
            <ion-button (click)="closeModal()">
                <ion-icon name="close-outline" slot="icon-only"></ion-icon>
            </ion-button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding">
    <form [formGroup]="centerForm" (ngSubmit)="onSubmit()">

        <!-- Center Name (Required) -->
        <ion-item [class.ion-invalid]="isFieldInvalid('name')">
            <ion-label position="stacked">Center Name <span class="required">*</span></ion-label>
            <ion-input formControlName="name" placeholder="Enter center name" (ionInput)="onNameInput($event)"
                type="text" maxlength="100">
            </ion-input>
            <ion-note slot="error">{{ getFieldError('name') }}</ion-note>
        </ion-item>

        <!-- Address -->
        <ion-item [class.ion-invalid]="isFieldInvalid('centerAddress')">
            <ion-label position="stacked">Address</ion-label>
            <ion-input formControlName="centerAddress" placeholder="Enter center address (optional)" type="text"
                maxlength="200">
            </ion-input>
            <ion-note slot="error">{{ getFieldError('centerAddress') }}</ion-note>
        </ion-item>

        <!-- City -->
        <ion-item [class.ion-invalid]="isFieldInvalid('city')">
            <ion-label position="stacked">City</ion-label>
            <ion-input formControlName="city" placeholder="Enter city (optional)" type="text" maxlength="100">
            </ion-input>
            <ion-note slot="error">{{ getFieldError('city') }}</ion-note>
        </ion-item>

    </form>
</ion-content>

<ion-footer>
    <ion-toolbar>
        <div class="action-row footer-row">
            <ion-button expand="block" type="button" (click)="onSubmit()" [disabled]="isSaveDisabled"
                class="save-button">
                {{ isEditing ? 'Update Center' : 'Save Center' }}
            </ion-button>

            <ion-button fill="outline" type="button" (click)="closeModal()" class="cancel-button">
                Cancel
            </ion-button>
        </div>
    </ion-toolbar>
</ion-footer>